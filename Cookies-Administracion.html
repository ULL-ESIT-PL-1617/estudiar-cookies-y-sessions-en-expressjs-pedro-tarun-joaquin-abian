
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Administración de Cookies en ExpressJS · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Cookies-Sessions.html" />
    
    
    <link rel="prev" href="Cookies-Seguridad,Seguimiento,Privacidad.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Homepage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Cookies-Introduction.html">
            
                <a href="Cookies-Introduction.html">
            
                    
                    Cookies
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Cookies-Structure.html">
            
                <a href="Cookies-Structure.html">
            
                    
                    Estructura de las Cookies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="Creation-Cookies.html">
            
                <a href="Creation-Cookies.html">
            
                    
                    Creación de las Cookies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="Cookies-Seguridad,Seguimiento,Privacidad.html">
            
                <a href="Cookies-Seguridad,Seguimiento,Privacidad.html">
            
                    
                    Seguridad, Seguimiento y Privacidad
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4" data-path="Cookies-Administracion.html">
            
                <a href="Cookies-Administracion.html">
            
                    
                    Administración de Cookies en ExpressJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="Cookies-Sessions.html">
            
                <a href="Cookies-Sessions.html">
            
                    
                    Sessions en ExpressJS(Inglés)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="Cookies-Ejemplos.html">
            
                <a href="Cookies-Ejemplos.html">
            
                    
                    Ejemplos
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="set-get-check-cookie.html">
            
                <a href="set-get-check-cookie.html">
            
                    
                    set-get-check-cookie.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="cookie-parser.js.html">
            
                <a href="cookie-parser.js.html">
            
                    
                    cookie-parser.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="cookie-session.js.html">
            
                <a href="cookie-session.js.html">
            
                    
                    cookie-counter.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="hello-cookie.js.html">
            
                <a href="hello-cookie.js.html">
            
                    
                    hello-cookie.js
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="1-BasicRouting.html">
            
                <a href="1-BasicRouting.html">
            
                    
                    Direccionamiento Básico
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="2-Routing.html">
            
                <a href="2-Routing.html">
            
                    
                    Direccionamiento
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="3-Middleware.html">
            
                <a href="3-Middleware.html">
            
                    
                    Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="4-RouterApiDoc.html">
            
                <a href="4-RouterApiDoc.html">
            
                    
                    Documentación Router API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="chapter1/nodejs.html">
            
                <a href="chapter1/nodejs.html">
            
                    
                    NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="chapter2/">
            
                <a href="chapter2/">
            
                    
                    Github
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="chapter2/creacion-de-usuario.html">
            
                <a href="chapter2/creacion-de-usuario.html">
            
                    
                    Creación de usuario
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="chapter2/git.html">
            
                <a href="chapter2/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="chapter2/github.html">
            
                <a href="chapter2/github.html">
            
                    
                    Cliente de Github (Mac osx y Windows)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="chapter2/hub.html">
            
                <a href="chapter2/hub.html">
            
                    
                    Hub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="chapter2/github.io.html">
            
                <a href="chapter2/github.io.html">
            
                    
                    Alojamiento de páginas en github.io
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="chapter2/gh-pages.html">
            
                <a href="chapter2/gh-pages.html">
            
                    
                    Gh-Pages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="chapter3/">
            
                <a href="chapter3/">
            
                    
                    Herramientas de desarrollo
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="chapter3/c9.html">
            
                <a href="chapter3/c9.html">
            
                    
                    Cloud9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="chapter3/atom.html">
            
                <a href="chapter3/atom.html">
            
                    
                    Atom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="chapter3/pandoc.html">
            
                <a href="chapter3/pandoc.html">
            
                    
                    Pandoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="chapter4/">
            
                <a href="chapter4/">
            
                    
                    Gitbook
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="chapter4/crear-un-usuario-en-gitbooks.html">
            
                <a href="chapter4/crear-un-usuario-en-gitbooks.html">
            
                    
                    Creación de usuario
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="chapter4/markdown.html">
            
                <a href="chapter4/markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Administración de Cookies en ExpressJS</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="administraci&#xF3;n-de-cookies-en-expressjs">Administraci&#xF3;n de Cookies en ExpressJS</h1>
<h2 id="instalaci&#xF3;n">Instalaci&#xF3;n</h2>
<p>Hasta ahora hemos visto qu&#xE9; son las cookies y c&#xF3;mo usar ExpressJS. Sin embargo, ahora vamos a comprobar c&#xF3;mo adquirir la habilidad de manejar cookies en ExpressJS. Lo primero que debemos hacer es instalar el middleware <strong><em>cookie-parser</em></strong> a trav&#xE9;s de <strong>npm</strong>:</p>
<ol>
<li>Abre una terminal</li>
<li>Posici&#xF3;nate en el directorio ra&#xED;z de tu aplicaci&#xF3;n</li>
<li>Ejecuta:</li>
</ol>
<pre><code>$ npm install cookie-parser
</code></pre><h2 id="usando-cookie-parser">Usando Cookie-Parser</h2>
<p>Importa <strong><em>cookie-parser</em></strong> en tu aplicaci&#xF3;n:</p>
<pre><code>var express = require(&apos;express&apos;);
var cookieParser = require(&apos;cookie-parser&apos;);

var app = express();
app.use(cookieParser());
</code></pre><h2 id="sintaxis">Sintaxis</h2>
<p>Cookie-parser parses Cookie header and populate <strong>req.cookies</strong> with an object keyed by the cookie names. To set a new cookie lets define a new route in your express app like :</p>
<pre><code>app.get(&apos;/cookie&apos;,function(req, res){
     res.cookie(cookie_name , &apos;cookie_value&apos;).send(&apos;Cookie is set&apos;);
});
</code></pre><p>Para comprobar si una cookie ha sido creada o no, vete a la consola del navegador y escribe <strong>document.cookie</strong>.</p>
<p>El navegador devuelve la cookie al servidor cada vez que hace una petici&#xF3;n a la p&#xE1;gina. Para obtener la cookie que el navegador puede enviar al servidor vincul&#xE1;ndola al encabezado, podemos escribir el siguiente c&#xF3;digo:</p>
<pre><code>app.get(&apos;/&apos;, function(req, res) {
  console.log(&quot;Cookies :  &quot;, req.cookies);
});
</code></pre><h2 id="&#xBF;c&#xF3;mo-poner-fecha-de-caducidad-a-una-cookie">&#xBF;C&#xF3;mo poner Fecha de Caducidad a una Cookie?</h2>
<p>La fecha de caducidad de una cookie se puede indicar mediante:</p>
<pre><code>res.cookie(name , &apos;value&apos;, {expire : new Date() + 9999});
</code></pre><p>Las opciones adicionales para las cookies se pueden especificar pasando un objeto como argumento que contiene ajustes adicionales para las cookies. Por tanto, para poner una fecha, se puede pasar un objeto con atributo <strong><em>expire</em></strong>, que almacena un valor de tiempo en milisegundos.</p>
<p>Alternativamente, se puede usar la propiedad <strong><em>maxAge</em></strong> para poner una fecha de caducidad.</p>
<pre><code>res.cookie(name, &apos;value&apos;, {maxAge : 9999});
</code></pre><h2 id="&#xBF;c&#xF3;mo-borrar-una-cookie">&#xBF;C&#xF3;mo borrar una Cookie?</h2>
<p>Una cookie existente se puede borrar f&#xE1;cilmente usando el m&#xE9;todo <strong>clearCookie</strong>, que acepta el nombre de la cookie que quieres borrar.</p>
<pre><code>app.get(&apos;/clearcookie&apos;, function(req,res){
     clearCookie(&apos;cookie_name&apos;);
     res.send(&apos;Cookie deleted&apos;);
});
</code></pre><p>Ahora, puedes comprobar en tu navegador que la cookie se ha borrado.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Cookies-Seguridad,Seguimiento,Privacidad.html" class="navigation navigation-prev " aria-label="Previous page: Seguridad, Seguimiento y Privacidad">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Cookies-Sessions.html" class="navigation navigation-next " aria-label="Next page: Sessions en ExpressJS(Inglés)">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Administración de Cookies en ExpressJS","level":"1.2.4","depth":2,"next":{"title":"Sessions en ExpressJS(Inglés)","level":"1.2.5","depth":2,"path":"Cookies-Sessions.md","ref":"Cookies-Sessions.md","articles":[]},"previous":{"title":"Seguridad, Seguimiento y Privacidad","level":"1.2.3","depth":2,"path":"Cookies-Seguridad,Seguimiento,Privacidad.md","ref":"Cookies-Seguridad,Seguimiento,Privacidad.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Cookies-Administracion.md","mtime":"2017-03-15T19:08:10.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-15T19:29:19.232Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

